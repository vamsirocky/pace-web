:root{
  --panel:#f7faf7; --border:#e3eee3; --ink:#1f2b1f; --muted:#5a6a5a;
  --green:#2e7d32; --green-2:#4caf50; --orange:#f39c12; --gold:#b8860b;

  /* Light sidebar theme */
  --side-bg:#f5f6f8; --side-fg:#1f2b1f; --side-accent:#e9edf2; --side-outline:#cdd8e6;
}
body{ background:#f0faef; }

/* ===== Shell: sidebar + main grid ===== */
.hp-shell{
  min-height:100vh;
  display:grid;
  grid-template-columns: 240px 1fr;  /* sidebar + main */
}

/* ===== Sidebar (light dashboard style) ===== */
.home__side{
  background:#f5f6f800;
  color:var(--side-fg);
  border-right:1px solid #e5e9ef;
  padding:18px 14px;
  display:flex; flex-direction:column; gap:16px;
}
.home__brand{ display:flex; align-items:center; gap:12px; padding:10px 8px; }
.home__avatar{
  width:42px;height:42px;border-radius:12px;display:grid;place-items:center;
  background:#dfe6ee; font-size:22px; color:#2a3b4f;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}
.home__brandtitle{ font-weight:700; letter-spacing:.2px; }
.home__brandsub{ font-size:12px; opacity:.75; }

.home__nav{ display:flex; flex-direction:column; gap:6px; }
.home__navlabel{ font-size:12px; letter-spacing:.2px; text-transform:uppercase; opacity:.7; padding:10px 10px 4px; }
.home__navitem{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px;
  background:transparent; color:inherit; border:0; text-align:left; cursor:pointer;
}
.home__navitem:hover{ background: var(--side-accent); }
.home__navitem.is-active{ background: var(--side-accent); outline:2px solid var(--side-outline); }
.home__navicon{ font-size:18px; width:22px; text-align:center; }

/* ===== Main grid (3-row layout) ===== */
.hp-wire {
  width: 100%;              /* full width */
  max-width: none;           /* remove limit */
  margin: 0;                 /* remove auto centering */
  padding: 16px 24px;        /* keep a little breathing space */
  display: grid;
  gap: 16px;
  color: var(--ink);
  box-sizing: border-box;    /* prevents overflow */
}


/* --- SIX-SEGMENT layout for rows: [col1][col2a][col2b][col3a][col3b][col4] --- */
.hp-wire--six{
  grid-template-columns: 1.35fr 0.55fr 0.55fr 0.6fr 0.6fr 200px;
  grid-template-rows: minmax(110px, auto) minmax(320px, auto) auto;
  /* Force the mini dashboard to take full width of row 2 */
.mini-dashboard {
  grid-column: 1 / 7;
  grid-row: 2;
  margin-top: -110px;  /* pull it upward */
}


}

/* Generic panel */
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  box-shadow:0 2px 8px rgba(0,0,0,.04);
}

/* ---------- Row 1 placement ---------- */
.avatar{
  grid-column:1 / 2; grid-row:1;
  display:grid; grid-template-columns:88px 1fr; gap:14px; align-items:center;
  min-height:110px;
}
.rating{ grid-column:2 / 4; grid-row:1; display:grid; place-items:center; min-height:110px; }          /* col2a..col2b */
.points-col{
  grid-column:4 / 6; grid-row:1;                                                    /* col3a..col3b */
  display:grid; grid-template-rows:1fr 1fr; gap:16px; align-self:stretch;
}
.points-mini{ display:grid; place-items:center; min-height:110px; }
.orange-col{
  grid-column:6 / 7; grid-row:1;                                                    /* col4 */
  display:grid; grid-template-rows: repeat(3, 1fr); gap:16px; align-self:stretch;
}
.orange-btn{
  background:var(--orange); color:#fff; border:none; border-radius:17px; padding:26px 0px;
  font-weight:800; cursor:pointer; box-shadow:0 6px 16px rgba(243,156,18,.25);
  display:flex; align-items:center; justify-content:center;
}
.orange-btn:hover{ filter:brightness(.95); }
.orange-btn.wide{ width:245%; }

/* ---------- Row 2 placement ---------- */
/* Contribution Mix → col1..col2a (1 → 3) */
.breakdown{ grid-column:1 / 3; grid-row:2; }

/* Stacked column → col2b..col3a (3 → 5) */
.stack-col{
  grid-column:3 / 5; grid-row:2;
  display:grid; grid-auto-rows: 1fr; gap:16px;
}
.current,.next,.activities-btn{ min-height:110px; }
.activities-btn{ display:grid; place-items:center; }

/* Leaderboard → col3b..col4 (5 → 7) */
.leaderboard{ grid-column:5 / 7; grid-row:2; }

/* ---------- Row 3 ---------- */
.past{ grid-column:1 / 7; grid-row:3; }

/* Avatar + metrics */
.avatar-img{ width:88px;height:88px;border-radius:50%;object-fit:cover;border:2px solid var(--green-2); }
.avatar h2{ margin:0 0 4px; }
.muted{ color:var(--muted); }
.metric{text-align:center;}
.metric-num{ font-size:36px;font-weight:800;color:var(--green); }
.metric-label{ color:var(--muted); font-size:20px; }
.metric-badge{ margin-top:6px; color:var(--gold); font-weight:700; }

/* Leaderboard */
.lb{ list-style:none; padding:0; margin:10px 0; }
.lb li{ display:flex; gap:10px; align-items:center; padding:10px 0; border-bottom:1px dashed var(--border); }
.lb .right{ margin-left:auto; color:var(--muted); }
.link-btn{ background:transparent;border:none;color:var(--green);font-weight:700;cursor:pointer;padding:8px 0; }

/* Donut + legend */
.pie-svg{ overflow:visible; display:block; margin:8px auto; max-width:320px; width: clamp(200px,26vw,240px); height:auto; }
.slice{ transition:transform 160ms ease; transform-origin:50% 50%; }
.slice:hover{ transform:scale(1.04); filter:drop-shadow(0 0 6px rgba(0,0,0,.08)); }
.label{ font-size:12px; font-weight:700; fill:#111; text-anchor:middle; dominant-baseline:middle; pointer-events:none; }
.label--value{ opacity:0; transition:opacity 160ms ease; }
.slice:hover .label--pct{ opacity:0; }
.slice:hover .label--value{ opacity:1; }

.donut-wrap{ display:grid; grid-template-columns: auto 1fr; align-items:center; gap:12px; }
.legend{ display:flex; flex-wrap:wrap; gap:12px; }
.legend__item{ display:inline-flex; align-items:center; gap:8px; font-size:14px; color:#445; }
.legend__swatch{ width:12px; height:12px; border-radius:3px; display:inline-block; }

/* Past table */
.table{ width:100%; }
.t-head,.t-row{ display:grid; grid-template-columns:120px 1fr 140px 90px 120px; gap:10px; padding:10px 0; }
.t-head{ color:var(--muted); font-weight:700; border-bottom:1px solid var(--border); }
.t-row{ border-bottom:1px dashed var(--border); }

/* Modals */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.28); display:grid; place-items:center; z-index:100; }
.modal-card{ background:#fff; border-radius:16px; width:96%; border:1px solid var(--border); box-shadow:0 12px 36px rgba(0,0,0,.2); }
.modal-head{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border); }
.modal-body{ padding:16px; }
.icon-btn{ background:transparent; border:none; font-size:18px; cursor:pointer; }

.placeholder{ height:240px; border:2px dashed var(--border); border-radius:12px; display:grid; place-items:center; color:var(--muted); }
.challenge-card{ background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; }
.list-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:10px; list-style:none; padding:0; }
.mood-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
.mood-btn{ padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#fff; cursor:pointer; }

/* -------- Responsive -------- */
@media (max-width: 1280px){
  .hp-wire--six{
    grid-template-columns: 1.2fr 0.5fr 0.5fr 0.55fr 0.55fr 190px;
  }
}
@media (max-width: 1100px){
  .hp-shell{ grid-template-columns: 200px 1fr; }
  .hp-wire--six{
    grid-template-columns: 1fr 0.6fr 0.6fr;
    grid-template-rows: minmax(110px,auto) minmax(360px,auto) auto;
  }
  /* Collapse far-right into column 3 on medium screens */
  .orange-col{ grid-column:3 / 4; }
  .leaderboard{ grid-column:3 / 4; }
  .past{ grid-column:1 / 4; }
  .breakdown{ grid-column:1 / 2; }
  .stack-col{ grid-column:2 / 3; }
}
@media (max-width: 820px){
  .hp-shell{ grid-template-columns: 1fr; }
  .home__side{ display:none; }
  .hp-wire--six{ grid-template-columns: 1fr; grid-template-rows: repeat(12, auto); }
  .avatar,.rating,.points-col,.orange-col,.breakdown,.stack-col,.leaderboard,.past{ grid-column:1; grid-row:auto; }
  .points-col{ grid-template-rows:auto auto; }
  .orange-col{ grid-template-rows:none; grid-auto-rows:56px; }
}
/* extras  */
/* Center the title + chart inside the Contribution Mix card */
.breakdown h3 {
  text-align: center;
  margin-bottom: 10px;
}

/* Make the donut and legend sit centered as a column */
.breakdown .donut-wrap {
  grid-template-columns: 1fr;      /* was "auto 1fr" */
  justify-items: center;           /* center horizontally */
  align-items: center;             /* center vertically in the card's flow */
}

/* Ensure the SVG itself is centered */
.breakdown .pie-svg {
  margin: 0 auto;
}

/* Legend as 3 x 2 grid, centered under the chart */
.breakdown .legend {
  display: grid;                               /* override flex */
  grid-template-columns: repeat(3, max-content);
  justify-content: center;                     /* center the 3 columns */
  gap: 12px 20px;                              /* row x column gap */
  width: 100%;
}
/* Make ONLY the Activities List panel white, full-size like other cards */
.panel.activity-card {
  background: #ffffff;                   /* white card */
  border: 1px solid var(--border);       /* keep same border */
  box-shadow: 0 14px 30px rgba(2,6,23,.06);/* same shadow */
}

/* Keep the button nicely wide but not edge-to-edge */
.panel.activity-card .orange-btn.wide {
  max-width: 360px;   /* tweak as you like */
}
/* Avatar video card with seamless background */
.panel.avatar.avatar-video {
  background: #ffffff;      /* pure white */
  border: none;             /* no border */
  box-shadow: none;         /* remove card shadow */
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;               /* remove extra padding */
}

/* Make the video responsive */
.avatar-video-element {
  width: 100%;
  height: auto;
  max-height: 265px;        /* adjust size */
  border-radius: 12px;      /* optional: soft corners */
  object-fit: contain;      /* keep proportions */
}
/* Wrap to keep new leaderboard button same look as Activities button */
.leaderboard-btn-wrap {
  margin-top: 12px; /* space above button */
  display: flex;
  justify-content: center; /* center horizontally */
}

.leaderboard-btn-wrap .orange-btn.wide {
  max-width: 360px; /* same as activities list button */
  margin-bottom: 14px;

}
/* ===== Align Activities + Compete buttons on the same baseline ===== */

/* Make the stacked column reserve its last row for the Activities button */
.stack-col{
  grid-template-rows: 1fr 1fr auto;   /* current, next, button */
}

/* Pin the Activities button to the bottom of its card area */
.activities-btn{
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

/* Let the Leaderboard card act as a column so its button can sit at the bottom */
.leaderboard{
  display: flex;
  flex-direction: column;
}

/* Make the list take available space, so the button wrapper drops to the bottom */
.leaderboard .lb{
  flex: 1 1 auto;
}

/* Center the Compete button and match width with Activities button */
.leaderboard-btn-wrap{
  display: flex;
  justify-content: center;
  margin-top: auto;              /* pushes it to the bottom */
}

.leaderboard-btn-wrap .orange-btn.wide,
.panel.activity-card .orange-btn.wide{
  max-width: 360px;              /* same visual width for both buttons */
}
.modal-card {
  width: 95%;                /* responsive */
  max-width: 850px;         /* cap it */
  border-radius: 18px;
  background: #fff;
  box-shadow: 0 12px 36px rgba(0,0,0,.2);
}

.current-activity-card {
  background: #f9fafb;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid #eee;
}

.status-badge {
  display: inline-block;
  margin-top: 8px;
  padding: 4px 10px;
  font-size: 12px;
  border-radius: 12px;
  font-weight: 600;
}

.status-badge.in-progress {
  background: #fff3cd;
  color: #856404;
  border: 1px solid #ffeeba;
}
.assist-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.assist-form input, .assist-form textarea {
  padding: 10px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 14px;
}
.assist-form button {
  align-self: flex-end;
}
/* Leaderboard → shrink height and align to content */
.leaderboard {
  grid-column: 5 / 7;
  grid-row: 2;
  display: flex;
  flex-direction: column;
  height: auto;
}

/* Assistance panel → place directly below leaderboard in same grid row */
.assistance-panel {
  grid-column: 5 / 7;
  grid-row: 2;                /* same row as leaderboard */
  margin-top: 377px;           /* space between leaderboard and button */
  display: flex;
  justify-content: center;
  align-items: flex-end;
}
.panel.leaderboard{
  margin-bottom:140px;
}
.orange-btn .wide{
  margin-bottom:10px;
}
/* Fix the send button in assistance form */
.assist-form button.orange-btn {
  padding: 10px 20px;       /* smaller, natural size */
  font-size: 14px;
  font-weight: 600;
  border-radius: 8px;       /* smaller radius than the big pill buttons */
  width: auto;              /* shrink to fit content */
  align-self: center;       /* center in the modal */
}
.panel .assistance-panel{
  margin-bottom:21px;
}
/* *************************** */
/* ================= Mini Dashboard ================= */
.mini-dashboard {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* Chart Row (bar + donut side by side) */
.mini-dashboard-charts {
  display: grid;
  grid-template-columns: 1fr 1fr; /* two equal halves */
  gap: 1.5rem;
  width: 100%;
  margin: 1rem 0;
}


.mini-dashboard-charts > div {
  background: #fff;
  border-radius: 10px;
  padding: 1rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  width: 100%;
  height: 300px;          /* fixed height */
  box-sizing: border-box;
}




/* Table styling (only inside mini dashboards) */
.mini-dashboard .table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
}

.mini-dashboard .t-head,
.mini-dashboard .t-row {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr; /* Date | Activity | Points */
  padding: 0.6rem 1rem;
  border-bottom: 1px solid #eee;
}

.mini-dashboard .t-head {
  font-weight: 600;
  background: #f9f9f9;
}

.mini-dashboard .t-row span {
  font-size: 0.95rem;
  color: #444;
}

.mini-dashboard .t-row:nth-child(even) {
  background: #fafafa;
}

/* Table styling */
.table {
  width: 100%;
  margin-top: 1.5rem;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  overflow: hidden;
  box-sizing: border-box;
}


.t-head, .t-row {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr; 
  padding: 0.6rem 1rem;
  border-bottom: 1px solid #eee;
  width: 100%;                /* ensure stretch */
  box-sizing: border-box;
}


.t-head {
  font-weight: 600;
  background: #f9f9f9;
}

.t-row span {
  font-size: 0.95rem;
  color: #444;
}

.t-row:nth-child(even) {
  background: #fafafa;
}
.mini-dashboard-charts > div svg,
.mini-dashboard-charts > div canvas {
  width: 100% !important;  /* force full width */
  height: 100% !important; /* force full height */
}